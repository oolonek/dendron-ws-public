{"pageProps":{"note":{"id":"cO1TjrEicNPknM4qFPBm1","title":"Cscs","desc":"","updated":1615884720600,"created":1606994034189,"custom":{},"fname":"tools.chemoinformatics.qiime.cscs","type":"note","vault":{"fsPath":"vault"},"contentHash":"c38d51a97d6640cf52aa2f7e61748b85","links":[{"type":"wiki","from":{"fname":"tools.chemoinformatics.qiime.cscs","id":"cO1TjrEicNPknM4qFPBm1","vaultName":"vault"},"value":"tags.bioinfo","alias":"#bioinfo","position":{"start":{"line":5,"column":8,"offset":62},"end":{"line":5,"column":16,"offset":70},"indent":[]},"xvault":false,"to":{"fname":"tags.bioinfo"}},{"type":"wiki","from":{"fname":"tools.chemoinformatics.qiime.cscs","id":"cO1TjrEicNPknM4qFPBm1","vaultName":"vault"},"value":"tags.recipee","alias":"#recipee","position":{"start":{"line":5,"column":17,"offset":71},"end":{"line":5,"column":25,"offset":79},"indent":[]},"xvault":false,"to":{"fname":"tags.recipee"}},{"type":"wiki","from":{"fname":"tools.chemoinformatics.qiime.cscs","id":"cO1TjrEicNPknM4qFPBm1","vaultName":"vault"},"value":"tags.tutorial","alias":"#tutorial","position":{"start":{"line":5,"column":26,"offset":80},"end":{"line":5,"column":35,"offset":89},"indent":[]},"xvault":false,"to":{"fname":"tags.tutorial"}},{"type":"wiki","from":{"fname":"tools.chemoinformatics.qiime.cscs","id":"cO1TjrEicNPknM4qFPBm1","vaultName":"vault"},"value":"tags.qiime","alias":"#qiime","position":{"start":{"line":5,"column":36,"offset":90},"end":{"line":5,"column":42,"offset":96},"indent":[]},"xvault":false,"to":{"fname":"tags.qiime"}},{"type":"wiki","from":{"fname":"tools.chemoinformatics.qiime.cscs","id":"cO1TjrEicNPknM4qFPBm1","vaultName":"vault"},"value":"20200611160123","alias":"20200611160123","position":{"start":{"line":27,"column":36,"offset":754},"end":{"line":27,"column":54,"offset":772},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"20200611160123"}},{"type":"wiki","from":{"fname":"tools.chemoinformatics.qiime.cscs","id":"cO1TjrEicNPknM4qFPBm1","vaultName":"vault"},"value":"20200611161504","alias":"20200611161504","position":{"start":{"line":31,"column":34,"offset":921},"end":{"line":31,"column":52,"offset":939},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"20200611161504"}},{"type":"wiki","from":{"fname":"tools.chemoinformatics.qiime.cscs","id":"cO1TjrEicNPknM4qFPBm1","vaultName":"vault"},"value":"tags.metadata","alias":"#metadata","position":{"start":{"line":253,"column":2,"offset":12035},"end":{"line":253,"column":11,"offset":12044},"indent":[]},"xvault":false,"to":{"fname":"tags.metadata"}}],"anchors":{"qiime-cscs-cookbook":{"type":"header","text":"qiime CSCS cookbook","value":"qiime-cscs-cookbook","line":8,"column":0,"depth":1},"bioinfo_qiime2_cscs_workflow":{"type":"header","text":"bioinfo_qiime2_cscs_workflow","value":"bioinfo_qiime2_cscs_workflow","line":10,"column":0,"depth":1},"clean-recipee-pfproject":{"type":"header","text":"Clean Recipee PFproject","value":"clean-recipee-pfproject","line":139,"column":0,"depth":1},"convert-your-mass-spectral-feature-table-to-the-qza-format":{"type":"header","text":"Convert your mass spectral feature table to the .qza format","value":"convert-your-mass-spectral-feature-table-to-the-qza-format","line":163,"column":0,"depth":2},"compute-the-chemical-structural-and-compositional-dissimilarity-metric-for-all-pairs-of-samples-in-your-feature-table":{"type":"header","text":"Compute the chemical structural and compositional dissimilarity metric for all pairs of samples in your feature table","value":"compute-the-chemical-structural-and-compositional-dissimilarity-metric-for-all-pairs-of-samples-in-your-feature-table","line":173,"column":0,"depth":2},"update-on-dec-2020":{"type":"header","text":"Update on Dec 2020","value":"update-on-dec-2020","line":185,"column":0,"depth":2},"feature-table-creation":{"type":"header","text":"Feature table creation","value":"feature-table-creation","line":189,"column":0,"depth":3},"if-you-need-to-go-from-biom-to-tsv":{"type":"header","text":"if you need to go from biom to tsv","value":"if-you-need-to-go-from-biom-to-tsv","line":193,"column":0,"depth":3},"conversion-to-qiime-featuretable":{"type":"header","text":"Conversion to qiime featureTable","value":"conversion-to-qiime-featuretable","line":198,"column":0,"depth":3},"summarizing":{"type":"header","text":"Summarizing","value":"summarizing","line":202,"column":0,"depth":3},"and-having-a-look-at-the-results":{"type":"header","text":"and having a look at the results","value":"and-having-a-look-at-the-results","line":207,"column":0,"depth":3},"now-well-filter-for-features-present-in-too-many-samples":{"type":"header","text":"Now we'll filter for features present in too many samples","value":"now-well-filter-for-features-present-in-too-many-samples","line":211,"column":0,"depth":3},"in-fact-here-e-would-rather-like-a-contingency-filtered-table":{"type":"header","text":"In fact here e would rather like a contingency filtered table","value":"in-fact-here-e-would-rather-like-a-contingency-filtered-table","line":218,"column":0,"depth":3},"lets-try-to-make-a-heatmap-out-of-the-previous-filtered-table":{"type":"header","text":"lets try to make a heatmap out of the previous filtered table","value":"lets-try-to-make-a-heatmap-out-of-the-previous-filtered-table","line":227,"column":0,"depth":2},"lets-work-on-phylogeny-import":{"type":"header","text":"lets work on phylogeny import","value":"lets-work-on-phylogeny-import","line":233,"column":0,"depth":2},"lets-add-some-metadata-for-the-feature-table-viz":{"type":"header","text":"Lets add some metadata for the feature table viz","value":"lets-add-some-metadata-for-the-feature-table-viz","line":241,"column":0,"depth":1},"alpha-rarefaction":{"type":"header","text":"alpha rarefaction","value":"alpha-rarefaction","line":249,"column":0,"depth":1},"empress":{"type":"header","text":"EMPRESS","value":"empress","line":267,"column":0,"depth":2},"qemistree":{"type":"header","text":"QEMISTREE","value":"qemistree","line":281,"column":0,"depth":2}},"children":["4q6R0Wq7vq4KwfN3Ok92J"],"parent":"RJYHiActNQEA3K3FDLBKe","data":{}},"body":"<h1 id=\"cscs\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#cscs\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Cscs</h1>\n<h1 id=\"qiime-cscs-cookbook\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#qiime-cscs-cookbook\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>qiime CSCS cookbook</h1>\n<h1 id=\"bioinfo_qiime2_cscs_workflow\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#bioinfo_qiime2_cscs_workflow\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>bioinfo_qiime2_cscs_workflow</h1>\n<p>tags = <a title=\"Private\" style=\"color: brown\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\">#bioinfo (Private)</a> <a title=\"Private\" style=\"color: brown\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\">#recipee (Private)</a> <a title=\"Private\" style=\"color: brown\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\">#tutorial (Private)</a> <a title=\"Private\" style=\"color: brown\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\">#qiime (Private)</a></p>\n<p>List of commands and recippe for a qiime2 cscs project</p>\n<p>qiime2\n<a href=\"https://docs.qiime2.org/2020.2/getting-started/\">https://docs.qiime2.org/2020.2/getting-started/</a></p>\n<p>qiime cscs\n<a href=\"https://github.com/madeleineernst/q2-cscs#2-compute-the-chemical-structural-and-compositional-dissimilarity-for-a-real-world-dataset\">https://github.com/madeleineernst/q2-cscs#2-compute-the-chemical-structural-and-compositional-dissimilarity-for-a-real-world-dataset</a></p>\n<p>download the GNPS job</p>\n<p>Mind the DownloadResult?task= string !!!</p>\n<p><code>curl -d \"\" 'https://gnps.ucsd.edu/ProteoSAFe/DownloadResult?task=5729dd0f7a47475abc879e164c237f56&#x26;view=download_cluster_buckettable' -o GNPS_output.zip</code></p>\n<p>fetch the metadata table :</p>\n<p><code>cp GNPS_output/quantification_table_reformatted/d6548148e7e040bb8d573bc6d4954d4b.csv GNPS_buckettable.csv</code></p>\n<p>eventually remove some columns see <a title=\"Private\" style=\"color: brown\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\">20200611160123 (Private)</a> terminal_directly_cut_csv_column</p>\n<p><code>cut --complement -f 2,3 -d, GNPS_buckettable.csv > GNPS_buckettable_tomod.csv</code></p>\n<p>then convert from csv to tsv see <a title=\"Private\" style=\"color: brown\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\">20200611161504 (Private)</a> terminal_convert_csv_to_tsv</p>\n<p><code>cat GNPS_buckettable_tomod.csv | tr \",\" \"\\\\t\" > GNPS_buckettable.tsv</code></p>\n<p>you can now convert to BIOM format </p>\n<p>`biom convert -i GNPS_buckettable.tsv -o GNPS_buckettable.biom --table-type=\"OTU table\" --to-hdf5</p>\n<p>run using cpus </p>\n<p>time qiime cscs cscs --p-css-edges GNPS_edges.tsv --i-features GNPS_buckettable.qza --p-cosine-threshold 0.7 --p-normalization --p-cpus 40 --o-distance-matrix cscs_distance_matrix.qza</p>\n<p>###########\nBrutal command line history</p>\n<p>2664  source activate qiime2-2020.2\n2665  qiime cscs cscs --p-css-edges small_GNPS_edges.tsv --i-features small_GNPS_buckettable.qza --p-cosine-threshold 0.5 --p-normalization --o-distance-matrix small_cscs_distance_matrix.qza\n2666  ls\n2667  wget <a href=\"https://raw.githubusercontent.com/madeleineernst/q2-cscs/master/tests/data/small_GNPS_buckettable.qza\">https://raw.githubusercontent.com/madeleineernst/q2-cscs/master/tests/data/small_GNPS_buckettable.qza</a>\n2668  wget <a href=\"https://raw.githubusercontent.com/madeleineernst/q2-cscs/master/tests/data/small_GNPS_edges.tsv\">https://raw.githubusercontent.com/madeleineernst/q2-cscs/master/tests/data/small_GNPS_edges.tsv</a>\n2669  qiime cscs cscs --p-css-edges small_GNPS_edges.tsv --i-features small_GNPS_buckettable.qza --p-cosine-threshold 0.5 --p-normalization --o-distance-matrix small_cscs_distance_matrix.qza\n2670  qiime tools view cscs_PCoA.qzv\n2671  qiime tools view cscs_PCoA.qza\n2672  ls -larts\n2673  biom convert -i GNPS_buckettable.tsv -o GNPS_buckettable.biom --table-type=\"OTU table\" --to-hdf5\n2674  qiime tools import --type 'FeatureTable[Frequency]' --input-path GNPS_buckettable.biom --output-path GNPS_buckettable.qza\n2675  qiime cscs cscs --p-css-edges GNPS_edges.tsv --i-features GNPS_buckettable.qza --p-cosine-threshold 0.5 --p-normalization --o-distance-matrix cscs_distance_matrix.qza\n2676  qiime cscs cscs\n2677  qiime cscs cscs --p-css-edges GNPS_edges.tsv --i-features GNPS_buckettable.qza --p-cosine-threshold 0.5 --p-normalization --p-cpus 4 --o-distance-matrix cscs_distance_matrix.qza\n2678  htop\n2679  qiime diversity pcoa --i-distance-matrix cscs_distance_matrix.qza --o-pcoa cscs_PCoA.qza\n2680  qiime emperor plot --i-pcoa cscs_PCoA.qza --m-metadata-file MappingFile_UrineSamples.txt --o-visualization cscs_PCoA.qzv\n2681  qiime tools view cscs_PCoA.qzv\n2682  qiime diversity beta --i-table GNPS_buckettable.qza  --p-metric braycurtis --o-distance-matrix braycurtis_GNPS_buckettable.qza\n2683  qiime diversity pcoa --i-distance-matrix braycurtis_GNPS_buckettable.qza --o-pcoa braycurtis_PCoA.qza\n2684  qiime emperor plot --i-pcoa braycurtis_PCoA.qza --m-metadata-file MappingFile_UrineSamples.txt --o-visualization braycurtis_PCoA.qzv\n2685  qiime tools view braycurtis_PCoA.qzv\n2686  qiime diversity mantel --i-dm1 cscs_distance_matrix.qza --i-dm2 braycurtis_GNPS_buckettable.qza --o-visualization mantel.qzv\n2687  qiime diversity procrustes-analysis --i-reference braycurtis_PCoA.qza --i-other cscs_PCoA.qza --output-dir ./procrustes-out\n2688  qiime emperor procrustes-plot --i-reference-pcoa procrustes-out/transformed_reference.qza --i-other-pcoa procrustes-out/transformed_other.qza --m-metadata-file MappingFile_UrineSamples.txt --o-visualization procrustes-out/plot.qzv\n2689  qiime tools view procrustes-out/plot.qzv\n2690  ls -lart\n2691  cd erythroxylum\n2692  ls\n2693  biom convert -i GNPS_buckettable.tsv -o GNPS_buckettable.biom --table-type=\"OTU table\" --to-hdf5\n2694  qiime tools import --type 'FeatureTable[Frequency]' --input-path GNPS_buckettable.biom --output-path GNPS_buckettable.qza\n2695  qiime cscs cscs --p-css-edges GNPS_edges.tsv --i-features GNPS_buckettable.qza --p-cosine-threshold 0.7 --p-normalization -p-cpus 6 --o-distance-matrix cscs_distance_matrix.qza\n2696  qiime cscs cscs --p-css-edges GNPS_edges.tsv --i-features GNPS_buckettable.qza --p-cosine-threshold 0.7 --p-normalization --p-cpus 6 --o-distance-matrix cscs_distance_matrix.qza\n2697  ssh x2go.epgl-geneve.org -p 80\n2698  ssh <a href=\"mailto:allardp@x2go.epgl-geneve.org\">allardp@x2go.epgl-geneve.org</a> -p 80\n2699  cd Dropbox/Research_UNIGE/git_repos\n2700  git clone <a href=\"https://github.com/madeleineernst/pyMolNetEnhancer.git\">https://github.com/madeleineernst/pyMolNetEnhancer.git</a>\n2701  qiime diversity pcoa --i-distance-matrix cscs_distance_matrix.qza --o-pcoa cscs_PCoA.qza\n2702  ls\n2703  cd GNPS_output\n2704  ls\n2705  cd metadata_table\n2706  ls\n2707  nano metadata_table-00000.txt\n2708  cd ..\n2709  qiime emperor plot --i-pcoa cscs_PCoA.qza --m-metadata-file GNPS_output/metadata_table/metadata_table-00000.txt --o-visualization cscs_PCoA.qzv\n2710  nano GNPS_output/metadata_table/metadata_table-00000.txt\n2711  qiime emperor plot --i-pcoa cscs_PCoA.qza --m-metadata-file GNPS_output/metadata_table/metadata_table-00000.txt --o-visualization cscs_PCoA.qzv\n2712  ls\n2713  nano GNPS_output/metadata_table/metadata_table-00000.txt\n2714  qiime emperor plot --i-pcoa cscs_PCoA.qza --m-metadata-file GNPS_output/metadata_table/metadata_table-00000.txt --o-visualization cscs_PCoA.qzv\n2715  nano GNPS_output/metadata_table/metadata_table-00000.txt\n2716  qiime emperor plot --i-pcoa cscs_PCoA.qza --m-metadata-file GNPS_output/metadata_table/metadata_table-00000.txt --o-visualization cscs_PCoA.qzv\n2717  qiime emperor plot\n2718  qiime emperor plot --i-pcoa cscs_PCoA.qza --m-metadata-file GNPS_output/metadata_table/metadata_table-00000.txt --p-ignore-missing-samples --o-visualization cscs_PCoA.qzv\n2719  qiime tools view cscs_PCoA.qzv\n2720  qiime diversity beta --i-table GNPS_buckettable.qza  --p-metric braycurtis --o-distance-matrix braycurtis_GNPS_buckettable.qza\n2721  qiime diversity pcoa --i-distance-matrix braycurtis_GNPS_buckettable.qza --o-pcoa braycurtis_PCoA.qza\n2722  qiime emperor plot --i-pcoa braycurtis_PCoA.qza --m-metadata-file MappingFile_UrineSamples.txt --o-visualization braycurtis_PCoA.qzv\n2723  qiime emperor plot --i-pcoa braycurtis_PCoA.qza --m-metadata-file GNPS_output/metadata_table/metadata_table-00000.txt --o-visualization braycurtis_PCoA.qzv\n2724  qiime emperor plot --i-pcoa braycurtis_PCoA.qza --m-metadata-file GNPS_output/metadata_table/metadata_table-00000.txt --p-ignore-missing-samples --o-visualization braycurtis_PCoA.qzv\n2725  qiime diversity mantel --i-dm1 cscs_distance_matrix.qza --i-dm2 braycurtis_GNPS_buckettable.qza --o-visualization mantel.qzv\n2726  qiime diversity procrustes-analysis --i-reference braycurtis_PCoA.qza --i-other cscs_PCoA.qza --output-dir ./procrustes-out\n2727  qiime emperor procrustes-plot --i-reference-pcoa procrustes-out/transformed_reference.qza --i-other-pcoa procrustes-out/transformed_other.qza --m-metadata-file GNPS_output/metadata_table/metadata_table-00000.txt --p-ignore-missing-samples --o-visualization procrustes-out/plot.qzv\n2728  qiime tools view procrustes-out/plot.qzv\n2729  ssh <a href=\"mailto:allardp@x2go.epgl-geneve.org\">allardp@x2go.epgl-geneve.org</a> -p 80\n2730  ls -lkart\n2731  ls -lart\n2732  qiime diversity\n2733  qiime diversity beta-rarefaction\n2734  ls\n2735  qiime tools view cscs_PCoA.qza\n2736  qiime tools view cscs_PCoA.qzv\n2737  qiime tools view procrustes-out/plot.qzv\n2738<em> ls\n2739</em> rsync -rvz -e 'ssh -p 80' --progress ./<em>.mp4 <a href=\"mailto:allardp@x2go.epgl-geneve.org\">allardp@x2go.epgl-geneve.org</a>:/home/EPGL.UNIGE.LOCAL/allardp/\n2740</em> htop\n2741<em> rsync -rvz -e 'ssh -p 80' --progress ./</em>.mp4 <a href=\"mailto:allardp@x2go.epgl-geneve.org\">allardp@x2go.epgl-geneve.org</a>:/home/EPGL.UNIGE.LOCAL/allardp/</p>\n<p> ###################################################################################\n###################################################################################</p>\n<h1 id=\"clean-recipee-pfproject\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#clean-recipee-pfproject\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Clean Recipee PFproject</h1>\n<p> ###################################################################################\n###################################################################################</p>\n<p>We need three inputs\n1 - a feature table\n2 - a edges table\n3 - a metadata table</p>\n<p>See qiime2 website for specification of the files. <a href=\"https://docs.qiime2.org/2020.2/tutorials/metadata/\">https://docs.qiime2.org/2020.2/tutorials/metadata/</a></p>\n<p>After installing enter the dedicated env</p>\n<p>source activate qiime2-2020.2</p>\n<p>On x2go you might need to resolve your issue by exporting the\nfollowing environment variables:</p>\n<pre><code>export LC_ALL=C.UTF-8\nexport LANG=C.UTF-8\n</code></pre>\n<h2 id=\"convert-your-mass-spectral-feature-table-to-the-qza-format\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#convert-your-mass-spectral-feature-table-to-the-qza-format\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Convert your mass spectral feature table to the .qza format</h2>\n<p>First, convert the .tsv feature table (GNPS_buckettable.tsv) to a .biom feature table (GNPS_buckettable.biom):</p>\n<p><code>biom convert -i PF_selected_feature_table.tsv -o PF_selected_feature_table.biom --table-type=\"OTU table\" --to-hdf5</code></p>\n<p>Then convert the .biom feature table (GNPS_buckettable.biom) to a .qza feature table (GNPS_buckettable.qza):</p>\n<p><code>qiime tools import --type 'FeatureTable[Frequency]' --input-path PF_selected_feature_table.biom --output-path PF_selected_feature_table.qza</code></p>\n<h2 id=\"compute-the-chemical-structural-and-compositional-dissimilarity-metric-for-all-pairs-of-samples-in-your-feature-table\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#compute-the-chemical-structural-and-compositional-dissimilarity-metric-for-all-pairs-of-samples-in-your-feature-table\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Compute the chemical structural and compositional dissimilarity metric for all pairs of samples in your feature table</h2>\n<p>To compute the chemical structural and compositional dissimilarity metric for all pairs of samples in your feature table type:</p>\n<p>Note : here we had an extra columns in the tsv so we can drop it directly form the command line\nby\ncut --complement -f 1 PF_selected_edeges.tsv > PF_selected_edeges_ready.tsv</p>\n<p><code>nohup time qiime cscs cscs --p-css-edges PF_selected_edeges.tsv --i-features PF_selected_feature_table.qza --p-cosine-threshold 0.7 --p-normalization --p-cpus 40 --o-distance-matrix cscs_distance_matrix.qza</code></p>\n<h2 id=\"update-on-dec-2020\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#update-on-dec-2020\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Update on Dec 2020</h2>\n<p>Messing around with qiime but keeping the recipe</p>\n<h3 id=\"feature-table-creation\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#feature-table-creation\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Feature table creation</h3>\n<p><code>biom convert \\-i /Users/pma/Dropbox/Research_UNIGE/git_repos/pf_project/data/output/PF_selected_feature_table.tsv  -o PF_selected_feature_table.biom --table-type=\"OTU table\" --to-hdf5</code></p>\n<h3 id=\"if-you-need-to-go-from-biom-to-tsv\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#if-you-need-to-go-from-biom-to-tsv\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>if you need to go from biom to tsv</h3>\n<p>biom convert -i table.biom -o table.from_biom.txt --to-tsv</p>\n<h3 id=\"conversion-to-qiime-featuretable\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#conversion-to-qiime-featuretable\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Conversion to qiime featureTable</h3>\n<p>qiime tools import --type 'FeatureTable[Frequency]' --input-path PF_selected_feature_table.biom --output-path PF_selected_feature_table.qza</p>\n<h3 id=\"summarizing\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#summarizing\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Summarizing</h3>\n<p>qiime feature-table summarize \\\n--i-table PF_selected_feature_table.qza \\\n--o-visualization table_summarized.qzv</p>\n<h3 id=\"and-having-a-look-at-the-results\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#and-having-a-look-at-the-results\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>and having a look at the results</h3>\n<p>qiime tools view table_summarized.qzv</p>\n<h3 id=\"now-well-filter-for-features-present-in-too-many-samples\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#now-well-filter-for-features-present-in-too-many-samples\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Now we'll filter for features present in too many samples</h3>\n<p>qiime feature-table filter-features \\\n--i-table PF_selected_feature_table.qza \\\n--p-max-frequency 500 \\\n--o-filtered-table feature-frequency-filtered-table.qza</p>\n<h3 id=\"in-fact-here-e-would-rather-like-a-contingency-filtered-table\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#in-fact-here-e-would-rather-like-a-contingency-filtered-table\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>In fact here e would rather like a contingency filtered table</h3>\n<p>qiime feature-table filter-features \\\n--i-table PF_selected_feature_table.qza \\\n--p-max-samples 500 \\\n--o-filtered-table sample-contingency-filtered-table.qza</p>\n<h2 id=\"lets-try-to-make-a-heatmap-out-of-the-previous-filtered-table\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#lets-try-to-make-a-heatmap-out-of-the-previous-filtered-table\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>lets try to make a heatmap out of the previous filtered table</h2>\n<p>qiime feature-table heatmap \\\n--i-table sample-contingency-filtered-table.qza \\\n--o-visualization heatmap.qzv</p>\n<h2 id=\"lets-work-on-phylogeny-import\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#lets-work-on-phylogeny-import\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>lets work on phylogeny import</h2>\n<p>qiime tools import \\\n--input-path pf_collec_newick.tre \\\n--output-path pf_collec_newick.qza \\\n--type 'Phylogeny[Unrooted]'</p>\n<h1 id=\"lets-add-some-metadata-for-the-feature-table-viz\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#lets-add-some-metadata-for-the-feature-table-viz\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Lets add some metadata for the feature table viz</h1>\n<p>qiime feature-table summarize \\\n--i-table PF_selected_feature_table.qza \\\n--o-visualization table.qzv \\\n--m-sample-metadata-file pf_metatable_qiimed.tsv</p>\n<h1 id=\"alpha-rarefaction\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#alpha-rarefaction\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>alpha rarefaction</h1>\n<p>qiime diversity alpha-rarefaction \\\n--i-table PF_selected_feature_table.qza \\\n--i-phylogeny pf_collec_newick.qza \\\n--p-max-depth 4000 \\\n--m-metadata-file pf_metatable_qiimed.tsv \\\n--o-visualization alpha-rarefaction.qzv</p>\n<p>#<a title=\"Private\" style=\"color: brown\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\">#metadata (Private)</a> viz</p>\n<p>qiime metadata tabulate \\\n--m-input-file pf_collec_newick_rooted.qza \\\n--o-visualization tabulated-feature-metadata.qzv</p>\n<h2 id=\"empress\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#empress\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>EMPRESS</h2>\n<p>ecometabo_toyset qiime empress community-plot \\\n--i-tree phylogeny.qza \\\n--i-feature-table feature_table.qza \\\n--m-sample-metadata-file feature_metadata.tsv \\\n--m-feature-metadata-file feature_taxa.tsv \\\n--o-visualization empress-tree2.qzv \\\n--p-filter-missing-features \\\n--p-ignore-missing-samples</p>\n<h2 id=\"qemistree\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#qemistree\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>QEMISTREE</h2>\n<p>biom convert -i mzmine_local_quant_formatted.tsv  -o mzmine_local_feature_table.biom --table-type=\"OTU table\" --to-hdf5</p>\n<p>qiime tools import --input-path mzmine_local_feature_table.biom --output-path feature-table.qza --type \"FeatureTable[Frequency]\"</p>\n<p>qiime tools import --input-path sirius_local.mgf --output-path sirius.mgf.qza --type MassSpectrometryFeatures</p>\n<p>qiime qemistree compute-fragmentation-trees --p-sirius-path 'sirius-osx64-headless-4.0.1/bin/' \\\n--i-features sirius.mgf.qza \\\n--p-ppm-max 15 \\\n--p-profile orbitrap \\\n--p-ionization-mode positive \\\n--p-java-flags \"-Djava.io.tmpdir=~/tmp/ -Xms16G -Xmx32G\" \\\n--o-fragmentation-trees fragmentation_trees.qza</p>\n<p>  qiime qemistree rerank-molecular-formulas --p-sirius-path 'sirius-osx64-headless-4.0.1/bin/' \\\n--i-features sirius.mgf.qza \\\n--i-fragmentation-trees fragmentation_trees.qza \\\n--p-zodiac-threshold 0.95 \\\n--p-java-flags \"-Djava.io.tmpdir=~/tmp/ -Xms16G -Xmx32G\" \\\n--o-molecular-formulas molecular_formulas.qza</p>\n<p>qiime qemistree predict-fingerprints --p-sirius-path 'sirius-osx64-headless-4.0.1/bin/' \\\n--i-molecular-formulas molecular_formulas.qza \\\n--p-ppm-max 20 \\\n--p-java-flags \"-Djava.io.tmpdir=~/tmp/ -Xms16G -Xmx32G\" \\\n--o-predicted-fingerprints fingerprints.qza</p>\n<p>qiime qemistree make-hierarchy \\\n--i-csi-results fingerprints.qza \\\n--i-feature-tables feature-table.qza \\\n--o-tree qemistree.qza \\\n--o-feature-table feature-table-hashed.qza \\\n--o-feature-data feature-data.qza</p>\n<p>qiime qemistree get-classyfire-taxonomy \\\n--i-feature-data feature-data.qza \\\n--o-classified-feature-data classified-merged-feature-data.qza</p>\n<p>qiime empress community-plot \\\n--i-tree qemistree-tree.qza \\\n--i-feature-table feature-table-hashed.qza \\\n--m-sample-metadata-file sample-metadata.tsv \\\n--m-feature-metadata-file feature-data.qza \\\n--o-visualization empress-tree.qzv</p>\n<hr>\n<strong>Children</strong>\n<ol>\n<li><a href=\"/dendron-ws-public/notes/4q6R0Wq7vq4KwfN3Ok92J\">Pf</a></li>\n</ol>","noteIndex":{"id":"gvOH1py1NfW3ihejtp1nt","title":"Root","desc":"","updated":1629628449617,"created":1629628449617,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"35415410233b3af68001893c83fd0c46","links":[{"type":"wiki","from":{"fname":"root","id":"gvOH1py1NfW3ihejtp1nt","vaultName":"vault"},"value":"user.oolonek","alias":"@oolonek","position":{"start":{"line":5,"column":7,"offset":225},"end":{"line":5,"column":15,"offset":233},"indent":[]},"xvault":false,"to":{"fname":"user.oolonek"}}],"anchors":{"welcome-to-dendron":{"type":"header","text":"Welcome to Dendron","value":"welcome-to-dendron","line":7,"column":0,"depth":1}},"children":["kPtYPP8JzWBTzWz6JpnkS","3LmAI71UuDJHeWZiY9h96","TyTThFOL2RNC8FAIj5bZN","e4C8xkTTKKue3fz5ywgBH","rInb8zzM4kEHelz4CeWDa","hUOQrqfgNFdSu7GD8fP2c","J9JmfJgjDT8Oz6WilFnKw","Iu50F9KOgYp0CDpwKBlx6","xZShWyRUMIXQaN30pKmCM","f1fsD9inrKMVapeKNhEhT","VhvHTRFNvIEee7odQvekB","D2j8S1AufMK6GbZTZ9BJz","HMvEFZAnQOxD77TnbVwGV","NYpAWkhSLKKkHIbDIbshA","0MSZusMXhweDvHD3Iggww","q5kFqQrTnytdWSux3nwOk","1PGMuBcw56lKG0Xu5sxIX","f4P2xBJLTHpQpJYiJh7BV","7KJGsaBJWOOHaHqElRaJq","BunyVngKi3As0C0CO5xhy","iRR8MxJPGIvfKl5pcOirA","3qcjidzC0tkyobYKlrWYc","uviazqrM9NUAMm9dWYVa7","53WWGL5wGfRDGtBEJoqBd","EoQW6Rm5LYkkCxMgDVXHd","k7IyxWpd9nYqWlhZ96CAG","maJAMIUSNCqgSTXrQ7fu5","59ftsVxFXXM9bB43vfKwK","rrfMr3vOgkyJv21N8x99X","7WpN3kiuBsunRJ17P3mGr","u88hb42Nk8jvzQwtMfM3z"],"parent":null,"data":{},"body":"# Welcome to Dendron\n\nThis is the root of your dendron vault. If you decide to publish your entire vault, this will be your landing page. You are free to customize any part of this page except the frontmatter on top. \n\nKudos @oolonek, you did great job! \nWhen using https://oolonek.github.io/dendron-ws-private/, here is what I got:\n\n<img width=\"1676\" alt=\"Capture d’écran 2021-08-22 à 13 19 54\" src=\"https://user-images.githubusercontent.com/44283913/130353241-43ba98eb-d947-473c-be08-d924f0ef585b.png\">\n\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":4,"useFMTitle":true,"useNoteTitleForLink":true,"mermaid":true,"useKatex":true,"dev":{"enablePreviewV2":true},"site":{"copyAssets":true,"siteHierarchies":["root"],"siteRootDir":"docs","siteUrl":"https://oolonek.github.io","gh_edit_link":true,"gh_edit_link_text":"Click here to edit this page on Github !","gh_edit_repository":"https://github.com/oolonek/dendron-ws-public","gh_edit_branch":"main","gh_edit_view_mode":"edit","assetsPrefix":"/dendron-ws-public","usePrettyRefs":true,"siteLastModified":true,"title":"GrndStt's Dendron","description":"Personal knowledge space","duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"usePrettyLinks":true,"siteNotesDir":"notes","siteFaviconPath":"favicon.ico","gh_root":"docs/","writeStubs":true,"siteIndex":"root"},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{}},"workspace":{"dendronVersion":"0.77.1","vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"enableUserTags":true,"enableHashTags":true,"enableEditorDecorations":true},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false}}},"__N_SSG":true}
<h1 id="sparql"><a aria-hidden="true" class="anchor-heading" href="#sparql"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Sparql</h1>
<h1 id="sparql-queries"><a aria-hidden="true" class="anchor-heading" href="#sparql-queries"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>SPARQL queries</h1>
<h1 id="all-compounds-produced-by-a-given-taxon-or-group-of-taxa-including-children-taxa-"><a aria-hidden="true" class="anchor-heading" href="#all-compounds-produced-by-a-given-taxon-or-group-of-taxa-including-children-taxa-"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>all compounds produced by a given taxon or group of taxa (including children taxa) :</h1>
<p><a href="https://w.wiki/4CMd">https://w.wiki/4CMd</a></p>
<p>with ref</p>
<p><a href="https://w.wiki/4CMg">https://w.wiki/4CMg</a></p>
<h1 id="all-compounds-produced-by-a-given-taxon-or-group-of-taxa-including-children-taxa-which-have-a-described-bioactivity-"><a aria-hidden="true" class="anchor-heading" href="#all-compounds-produced-by-a-given-taxon-or-group-of-taxa-including-children-taxa-which-have-a-described-bioactivity-"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>all compounds produced by a given taxon or group of taxa (including children taxa) which have a described bioactivity :</h1>
<p><a href="https://w.wiki/3YMo">https://w.wiki/3YMo</a></p>
<p>resumed as treemap <a href="https://w.wiki/3YMt">https://w.wiki/3YMt</a></p>
<p>for archive on zenodo <a href="https://w.wiki/4N8G">https://w.wiki/4N8G</a>
results <a href="https://w.wiki/4N8J">https://w.wiki/4N8J</a></p>
<h2 id="all-organisms-containing-compound-for-which-a-given-mesh-id-has-been-reported"><a aria-hidden="true" class="anchor-heading" href="#all-organisms-containing-compound-for-which-a-given-mesh-id-has-been-reported"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>All organisms containing compound for which a given MeSh id has been reported.</h2>
<p>Change MeSH Id according to <a href="https://meshb.nlm.nih.gov/search">https://meshb.nlm.nih.gov/search</a></p>
<p><a href="https://w.wiki/vo9">https://w.wiki/vo9</a></p>
<h3 id="displayed-as-a-treemap"><a aria-hidden="true" class="anchor-heading" href="#displayed-as-a-treemap"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>displayed as a treemap</h3>
<p><a href="https://w.wiki/zkK">https://w.wiki/zkK</a></p>
<h2 id="compounds-in-organisms-who-have-a-parent-taxon-with-a-given-taxon-name"><a aria-hidden="true" class="anchor-heading" href="#compounds-in-organisms-who-have-a-parent-taxon-with-a-given-taxon-name"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>compounds in organisms who have a parent taxon with a given taxon name</h2>
<p><a href="https://w.wiki/vo$">https://w.wiki/vo$</a></p>
<h2 id="compounds-in-organisms-who-have-a-parent-taxon-with-a-given-taxon-name---grouped-and-counted"><a aria-hidden="true" class="anchor-heading" href="#compounds-in-organisms-who-have-a-parent-taxon-with-a-given-taxon-name---grouped-and-counted"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>compounds in organisms who have a parent taxon with a given taxon name - grouped and counted</h2>
<p><a href="https://w.wiki/368M">https://w.wiki/368M</a></p>
<h2 id="compounds-in-organisms-who-have-a-parent-taxon-with-a-given-taxon-name---with-mf-and-accurate-mass"><a aria-hidden="true" class="anchor-heading" href="#compounds-in-organisms-who-have-a-parent-taxon-with-a-given-taxon-name---with-mf-and-accurate-mass"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>compounds in organisms who have a parent taxon with a given taxon name - with mf and accurate mass</h2>
<p><a href="https://w.wiki/36Ki">https://w.wiki/36Ki</a></p>
<h2 id="compounds-displaying-a-found-in-a-taxon-property"><a aria-hidden="true" class="anchor-heading" href="#compounds-displaying-a-found-in-a-taxon-property"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>compounds displaying a found in a taxon property</h2>
<p><a href="https://w.wiki/q$H">https://w.wiki/q$H</a></p>
<h2 id="idsm-powered-"><a aria-hidden="true" class="anchor-heading" href="#idsm-powered-"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>idsm powered !!!</h2>
<p><a href="https://w.wiki/xMJ">https://w.wiki/xMJ</a></p>
<p><a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">mail_jakub (Private)</a> </p>
<h2 id="genus-counting-indole-substrutcures"><a aria-hidden="true" class="anchor-heading" href="#genus-counting-indole-substrutcures"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>genus counting indole substrutcures</h2>
<p>This SPAQRL query is based on a proposition of Jakub Galgonek <a href="mailto:jakub.galgonek@uochb.cas.cz">jakub.galgonek@uochb.cas.cz</a> (<a href="https://idsm.elixir-czech.cz/">https://idsm.elixir-czech.cz/</a>) and adapted by Pierre-Marie Allard (<a href="mailto:pierre-marie.allard@unige.ch">pierre-marie.allard@unige.ch</a>)
It returns an order list of organisms known to produce chemical compounds having an indolic moiety.
The organisms are aggregated at the parent taxon level, and the list is ordered by number of compound occurence in the parent t</p>
<p><a href="https://w.wiki/xMN">https://w.wiki/xMN</a></p>
<h2 id="all-molecules-isolated-by-author-x"><a aria-hidden="true" class="anchor-heading" href="#all-molecules-isolated-by-author-x"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>all molecules isolated by author X</h2>
<p><a href="https://w.wiki/32D6">https://w.wiki/32D6</a>
<a href="https://w.wiki/32$m">https://w.wiki/32$m</a></p>
<h2 id="count-of-the-authors-having-isolated-a-given-scaffold"><a aria-hidden="true" class="anchor-heading" href="#count-of-the-authors-having-isolated-a-given-scaffold"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>count of the authors having isolated a given scaffold</h2>
<p><a href="https://w.wiki/32DF">https://w.wiki/32DF</a></p>
<h2 id="compare-authors-by-count-of-compound"><a aria-hidden="true" class="anchor-heading" href="#compare-authors-by-count-of-compound"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>compare authors by count of compound</h2>
<p><a href="https://w.wiki/32Vb">https://w.wiki/32Vb</a>
<a href="https://w.wiki/32Vk">https://w.wiki/32Vk</a> (bar-chart)</p>
<h2 id="compare-authors-by-count-of-compound-substructure-refinable"><a aria-hidden="true" class="anchor-heading" href="#compare-authors-by-count-of-compound-substructure-refinable"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>compare authors by count of compound (substructure-refinable)</h2>
<p><a href="https://w.wiki/32Vd">https://w.wiki/32Vd</a></p>
<h2 id="compare-authors-by-count-of-compound-structuresimilarity-refinable"><a aria-hidden="true" class="anchor-heading" href="#compare-authors-by-count-of-compound-structuresimilarity-refinable"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>compare authors by count of compound (structuresimilarity-refinable)</h2>
<p><a href="https://w.wiki/32Vg">https://w.wiki/32Vg</a> (indolic)
<a href="https://w.wiki/32Vj">https://w.wiki/32Vj</a> (bubblechart - indolic)
<a href="https://w.wiki/32Vi">https://w.wiki/32Vi</a> (bubblechart - tropanic)</p>
<h2 id="count-of-authors-isolating-substances-with-a-given-role"><a aria-hidden="true" class="anchor-heading" href="#count-of-authors-isolating-substances-with-a-given-role"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>count of authors isolating substances with a given role</h2>
<p><a href="https://w.wiki/32Vr">https://w.wiki/32Vr</a></p>
<h2 id="all-distinct-articlesubstancesorg-for-a-given-biological-role"><a aria-hidden="true" class="anchor-heading" href="#all-distinct-articlesubstancesorg-for-a-given-biological-role"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>all distinct article/substances/org for a given biological role</h2>
<p><a href="https://w.wiki/32Vu">https://w.wiki/32Vu</a></p>
<h2 id="all-disticnt-antibiotics"><a aria-hidden="true" class="anchor-heading" href="#all-disticnt-antibiotics"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>all disticnt antibiotics</h2>
<p><a href="https://w.wiki/32Vv">https://w.wiki/32Vv</a></p>
<h2 id="drug-prot-interaction"><a aria-hidden="true" class="anchor-heading" href="#drug-prot-interaction"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>drug-prot interaction</h2>
<pre class="language-sparql"><code class="language-SPARQL"><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> <span class="token variable">?parent_taxon</span> <span class="token variable">?parent_taxon_name</span> <span class="token variable">?compound</span> <span class="token variable">?interaction</span> <span class="token variable">?compoundLabel</span> <span class="token variable">?geneLabel</span> <span class="token variable">?biological_processLabel</span> <span class="token variable">?diseaseLabel</span> <span class="token keyword">WHERE</span> <span class="token punctuation">{</span>
  <span class="token comment">#?compound wdt:P2868 ?mesh.</span>
  <span class="token comment">#?mesh wdt:P486 "D000962".</span>
  <span class="token variable">?compound</span> <span class="token function"><span class="token prefix">wdt<span class="token punctuation">:</span></span><span class="token local-name">P235</span></span> <span class="token variable">?inchikey</span><span class="token punctuation">.</span>
  <span class="token punctuation">{</span>
    <span class="token variable">?compound</span> <span class="token function"><span class="token prefix">p<span class="token punctuation">:</span></span><span class="token local-name">P703</span></span> <span class="token variable">?statement</span><span class="token punctuation">.</span>
    <span class="token variable">?statement</span> <span class="token function"><span class="token prefix">ps<span class="token punctuation">:</span></span><span class="token local-name">P703</span></span> <span class="token variable">?taxon</span><span class="token punctuation">.</span>
    <span class="token variable">?taxon</span> <span class="token function"><span class="token prefix">wdt<span class="token punctuation">:</span></span><span class="token local-name">P171</span></span> <span class="token variable">?parent_taxon</span><span class="token punctuation">.</span>
    <span class="token keyword">OPTIONAL</span> <span class="token punctuation">{</span> <span class="token variable">?taxon</span> <span class="token function"><span class="token prefix">wdt<span class="token punctuation">:</span></span><span class="token local-name">P171</span></span> <span class="token variable">?parent_taxon</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
    <span class="token keyword">OPTIONAL</span> <span class="token punctuation">{</span> <span class="token variable">?parent_taxon</span> <span class="token function"><span class="token prefix">wdt<span class="token punctuation">:</span></span><span class="token local-name">P225</span></span> <span class="token variable">?parent_taxon_name</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
    <span class="token punctuation">{</span>
      <span class="token variable">?statement</span> <span class="token function"><span class="token prefix">prov<span class="token punctuation">:</span></span><span class="token local-name">wasDerivedFrom</span></span> <span class="token variable">?ref</span><span class="token punctuation">.</span>
      <span class="token variable">?ref</span> <span class="token function"><span class="token prefix">pr<span class="token punctuation">:</span></span><span class="token local-name">P248</span></span> <span class="token variable">?reference</span><span class="token punctuation">.</span>
      <span class="token variable">?reference</span> <span class="token function"><span class="token prefix">wdt<span class="token punctuation">:</span></span><span class="token local-name">P356</span></span> <span class="token variable">?reference_doi</span><span class="token punctuation">;</span>
        <span class="token function"><span class="token prefix">wdt<span class="token punctuation">:</span></span><span class="token local-name">P1476</span></span> <span class="token variable">?reference_title</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
   <span class="token comment">#?compound p:P129 ?interaction.</span>
   <span class="token comment">#?interaction wdt: wd:Q21119831.</span>
    
    <span class="token variable">?compound</span> <span class="token function"><span class="token prefix">wdt<span class="token punctuation">:</span></span><span class="token local-name">P129</span></span> <span class="token variable">?gene_product</span> <span class="token punctuation">.</span>   <span class="token comment"># drug interacts with a gene_product</span>
    <span class="token variable">?gene</span> <span class="token function"><span class="token prefix">wdt<span class="token punctuation">:</span></span><span class="token local-name">P688</span></span> <span class="token variable">?gene_product</span> <span class="token punctuation">.</span>  <span class="token comment"># gene_product (usually a protein) is a product of a gene (a region of DNA)</span>
    <span class="token variable">?disease</span>  <span class="token function"><span class="token prefix">wdt<span class="token punctuation">:</span></span><span class="token local-name">P2293</span></span> <span class="token variable">?gene</span> <span class="token punctuation">.</span>    <span class="token comment"># genetic association between disease and gene</span>
    <span class="token variable">?disease</span> <span class="token function"><span class="token prefix">wdt<span class="token punctuation">:</span></span><span class="token local-name">P279</span></span>*  <span class="token function"><span class="token prefix">wd<span class="token punctuation">:</span></span><span class="token local-name">Q12078</span></span> <span class="token punctuation">.</span>  <span class="token comment"># limit to cancers wd:Q12078 (the * operator runs up a transitive relation..)</span>
    <span class="token variable">?gene_product</span> <span class="token function"><span class="token prefix">wdt<span class="token punctuation">:</span></span><span class="token local-name">P682</span></span> <span class="token variable">?biological_process</span> <span class="token punctuation">.</span> <span class="token comment">#add information about the GO biological processes that the gene is related to </span>

    <span class="token variable">?biological_process</span> <span class="token punctuation">(</span><span class="token function"><span class="token prefix">wdt<span class="token punctuation">:</span></span><span class="token local-name">P361</span></span>|<span class="token function"><span class="token prefix">wdt<span class="token punctuation">:</span></span><span class="token local-name">P279</span></span><span class="token punctuation">)</span>* <span class="token function"><span class="token prefix">wd<span class="token punctuation">:</span></span><span class="token local-name">Q14599311.</span></span>
  <span class="token punctuation">}</span>
  <span class="token keyword">SERVICE</span> <span class="token function"><span class="token prefix">wikibase<span class="token punctuation">:</span></span><span class="token local-name">label</span></span> <span class="token punctuation">{</span> <span class="token function"><span class="token prefix">bd<span class="token punctuation">:</span></span><span class="token local-name">serviceParam</span></span> <span class="token function"><span class="token prefix">wikibase<span class="token punctuation">:</span></span><span class="token local-name">language</span></span> <span class="token string">"[AUTO_LANGUAGE],en"</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
  
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> <span class="token variable">?parent_taxon</span> <span class="token variable">?parent_taxon_name</span> <span class="token variable">?compound</span> <span class="token variable">?interaction</span> <span class="token variable">?compoundLabel</span> <span class="token variable">?geneLabel</span> <span class="token variable">?biological_processLabel</span> <span class="token variable">?diseaseLabel</span>
<span class="token comment">#ORDER BY DESC (?count)</span>
</code></pre>
<h2 id="generic-lotus-queries"><a aria-hidden="true" class="anchor-heading" href="#generic-lotus-queries"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Generic LOTUS queries</h2>
<p><a href="https://w.wiki/$Q$">https://w.wiki/$Q$</a>
<a href="https://w.wiki/$R3">https://w.wiki/$R3</a>
<a href="https://w.wiki/$RD">https://w.wiki/$RD</a> apparently working !
<a href="https://w.wiki/$RR">https://w.wiki/$RR</a> with wd: for structure and org
<a href="https://w.wiki/$RU">https://w.wiki/$RU</a> wd: for everyone ...still ok
<a href="https://w.wiki/$SF">https://w.wiki/$SF</a> full monty</p>
<h2 id="sachem-non-permanent-endpoint"><a aria-hidden="true" class="anchor-heading" href="#sachem-non-permanent-endpoint"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Sachem non-permanent endpoint</h2>
<p><a href="https://idsm.elixir-czech.cz:2443/sachem/#/search">https://idsm.elixir-czech.cz:2443/sachem/#/search</a></p>
<h2 id="sachem-grand-parents"><a aria-hidden="true" class="anchor-heading" href="#sachem-grand-parents"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Sachem grand parents</h2>
<p><a href="https://w.wiki/32Wz">https://w.wiki/32Wz</a></p>
<h2 id="retrun-compound-present-in-invasive-species"><a aria-hidden="true" class="anchor-heading" href="#retrun-compound-present-in-invasive-species"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Retrun compound present in invasive species</h2>
<p><a href="https://w.wiki/32fa">https://w.wiki/32fa</a>
<a href="https://w.wiki/32fc">https://w.wiki/32fc</a></p>
<h2 id="check-taxon-for-a-givin-inchikey-regex"><a aria-hidden="true" class="anchor-heading" href="#check-taxon-for-a-givin-inchikey-regex"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>check taxon for a givin INChikey (regex)</h2>
<p><a href="https://w.wiki/32j3">https://w.wiki/32j3</a></p>
<h2 id="chemotax-graph-queries"><a aria-hidden="true" class="anchor-heading" href="#chemotax-graph-queries"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>chemotax graph queries</h2>
<p><a href="https://w.wiki/32q9">https://w.wiki/32q9</a>
<a href="https://w.wiki/32qC">https://w.wiki/32qC</a></p>
<p><a href="https://w.wiki/32qN">https://w.wiki/32qN</a></p>
<h1 id="to-tweet"><a aria-hidden="true" class="anchor-heading" href="#to-tweet"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>to tweet</h1>
<p>All the compounds found in the Streptomyces avermitilis taxon and the references documenting this link.
<a href="https://w.wiki/33V$">https://w.wiki/33V$</a></p>
<p>We can remove the references to get all unique compounds found in the Streptomyces coelicolor</p>
<p><a href="https://w.wiki/33WG">https://w.wiki/33WG</a></p>
<p>All the biological taxa where the chemical compound erysodine is found in.
<a href="https://w.wiki/33WA">https://w.wiki/33WA</a></p>
<h1 id="molecules-found-within-vegetables"><a aria-hidden="true" class="anchor-heading" href="#molecules-found-within-vegetables"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>molecules found within vegetables</h1>
<p><a href="https://w.wiki/4EAh">https://w.wiki/4EAh</a></p>
<h1 id="molecules-found-within-toxic-plants"><a aria-hidden="true" class="anchor-heading" href="#molecules-found-within-toxic-plants"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>molecules found within toxic plants</h1>
<p><a href="https://w.wiki/4EAw">https://w.wiki/4EAw</a></p>
<h1 id="mlecules-in-iucn-threatned-species"><a aria-hidden="true" class="anchor-heading" href="#mlecules-in-iucn-threatned-species"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>mlecules in IUCN threatned species</h1>
<p><a href="https://w.wiki/4EGg">https://w.wiki/4EGg</a></p>
<p><a href="https://w.wiki/4EHQ">https://w.wiki/4EHQ</a></p>
<h1 id="looking-for-molecules-present-in-old-species-according-to-life-span"><a aria-hidden="true" class="anchor-heading" href="#looking-for-molecules-present-in-old-species-according-to-life-span"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>looking for molecules present in old species according to life span</h1>
<p><a href="https://w.wiki/4EH8">https://w.wiki/4EH8</a>
<a href="https://w.wiki/4EHB">https://w.wiki/4EHB</a></p>
<p>with preclass</p>
<p><a href="https://w.wiki/4EHD">https://w.wiki/4EHD</a></p>
<p>and prepreclass </p>
<p>at all levels
<a href="https://w.wiki/4EHH">https://w.wiki/4EHH</a></p>
<p>at a single level</p>
<p><a href="https://w.wiki/4EHJ">https://w.wiki/4EHJ</a></p>
<p>classed by chem classes
<a href="https://w.wiki/4EHP">https://w.wiki/4EHP</a></p>
<h1 id="messing-around-with-pathways"><a aria-hidden="true" class="anchor-heading" href="#messing-around-with-pathways"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Messing around with pathways</h1>
<p><a href="https://w.wiki/4EK7">https://w.wiki/4EK7</a></p>
<p>original query </p>
<p><a href="https://w.wiki/4EK9">https://w.wiki/4EK9</a></p>
<h1 id="highest-mountains-in-switzerland"><a aria-hidden="true" class="anchor-heading" href="#highest-mountains-in-switzerland"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>highest mountains in Switzerland</h1>
<p><a href="https://w.wiki/4EKE">https://w.wiki/4EKE</a></p>
<h1 id="all-biologist-with-a-twitter-account"><a aria-hidden="true" class="anchor-heading" href="#all-biologist-with-a-twitter-account"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>all biologist with a twitter account</h1>
<p><a href="https://w.wiki/4EKW">https://w.wiki/4EKW</a></p>
<p>strictly biologists
<a href="https://w.wiki/4EKM">https://w.wiki/4EKM</a></p>
<p>educated in Switzerland </p>
<p><a href="https://w.wiki/4EKk">https://w.wiki/4EKk</a></p>
<h1 id="example-for-prsenattion-unifr"><a aria-hidden="true" class="anchor-heading" href="#example-for-prsenattion-unifr"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>example for prsenattion UniFr</h1>
<p><a href="https://w.wiki/4EMf">https://w.wiki/4EMf</a>
All compounds + ref for S. coelicolor</p>
<p><a href="https://w.wiki/4EMo">https://w.wiki/4EMo</a> (bioact listed)</p>
<h1 id="compounds-from-species-wuth-given-iucn-status-and-lifespan"><a aria-hidden="true" class="anchor-heading" href="#compounds-from-species-wuth-given-iucn-status-and-lifespan"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Compounds from species wuth given IUCN status and lifespan</h1>
<p><a href="https://w.wiki/4EMw">https://w.wiki/4EMw</a></p>
<h1 id="compounds-in-taxa-and-children-filtered-by-smiles-pattern-regex"><a aria-hidden="true" class="anchor-heading" href="#compounds-in-taxa-and-children-filtered-by-smiles-pattern-regex"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>compounds in taxa and children filtered by SMILES pattern regex</h1>
<p><a href="https://w.wiki/4JWv">https://w.wiki/4JWv</a></p>
<h1 id="melochia-genus-query"><a aria-hidden="true" class="anchor-heading" href="#melochia-genus-query"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Melochia genus query</h1>
<p><a href="https://w.wiki/4VYy">https://w.wiki/4VYy</a></p>
<h1 id="idsm-queries"><a aria-hidden="true" class="anchor-heading" href="#idsm-queries"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>IDSM queries</h1>
<p>PREFIX sachem: <a href="http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#">http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#</a>
PREFIX rdf: <a href="http://www.w3.org/1999/02/22-rdf-syntax-ns#">http://www.w3.org/1999/02/22-rdf-syntax-ns#</a>
PREFIX bd: <a href="http://www.bigdata.com/rdf#">http://www.bigdata.com/rdf#</a>
PREFIX wd: <a href="http://www.wikidata.org/entity/">http://www.wikidata.org/entity/</a>
PREFIX wdt: <a href="http://www.wikidata.org/prop/direct/">http://www.wikidata.org/prop/direct/</a>
PREFIX wdtn: <a href="http://www.wikidata.org/prop/direct-normalized/">http://www.wikidata.org/prop/direct-normalized/</a>
PREFIX p: <a href="http://www.wikidata.org/prop/">http://www.wikidata.org/prop/</a>
PREFIX prov: <a href="http://www.w3.org/ns/prov#">http://www.w3.org/ns/prov#</a>
PREFIX ps: <a href="http://www.wikidata.org/prop/statement/">http://www.wikidata.org/prop/statement/</a>
PREFIX pr: <a href="http://www.wikidata.org/prop/reference/">http://www.wikidata.org/prop/reference/</a>
PREFIX endpoint: <a href="https://idsm.elixir-czech.cz/sparql/endpoint/">https://idsm.elixir-czech.cz/sparql/endpoint/</a></p>
<p><a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">#title (Private)</a>: Which are the available referenced structure-organism pairs on Wikidata? (example limited to 1000 results)
SELECT DISTINCT ?structure ?structure_inchikey ?taxon ?taxon_name ?reference ?reference_doi WHERE {
?structure wdt:P235 ?structure_inchikey;       # get the inchikey
p:P703[                                      # statement found in taxon
ps:P703 ?taxon;                             # get the taxon
(prov:wasDerivedFrom/pr:P248) ?reference ]. # get the reference
?taxon wdt:P225 ?taxon_name.                   # get the taxon scientific name
?reference wdt:P356 ?reference_doi.            # get the reference DOI
}
LIMIT 10</p>
<p>PREFIX rdfs: <a href="http://www.w3.org/2000/01/rdf-schema#">http://www.w3.org/2000/01/rdf-schema#</a>
PREFIX sachem: <a href="http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#">http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#</a>
PREFIX endpoint: <a href="https://idsm.elixir-czech.cz/sparql/endpoint/">https://idsm.elixir-czech.cz/sparql/endpoint/</a></p>
<p>SELECT * WHERE {
SERVICE endpoint:chebi {
?COMPOUND sachem:substructureSearch
[ sachem:query "CC(=O)Oc1ccccc1C(O)=O" ]
}
?COMPOUND rdfs:label ?o
}</p>
<h1 id="title-compounds-of-the-melochia-genus-bearing-the-quinoline-substructure"><a aria-hidden="true" class="anchor-heading" href="#title-compounds-of-the-melochia-genus-bearing-the-quinoline-substructure"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>title: Compounds of the Melochia genus bearing the quinoline substructure</h1>
<p><a href="https://w.wiki/4wbY">https://w.wiki/4wbY</a></p>
<h1 id="all-articles-documenting-found-in-taxonn-prop-by-authors-of-a-given-country"><a aria-hidden="true" class="anchor-heading" href="#all-articles-documenting-found-in-taxonn-prop-by-authors-of-a-given-country"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>all articles documenting found in taxonn Prop by authors of a given country</h1>
<p><a href="https://w.wiki/4z7M">https://w.wiki/4z7M</a></p>
<hr>
<p>PREFIX rdf: <a href="http://www.w3.org/1999/02/22-rdf-syntax-ns#">http://www.w3.org/1999/02/22-rdf-syntax-ns#</a>
PREFIX jlw: <a href="https://www.sinergiawolfender.org/jlw/">https://www.sinergiawolfender.org/jlw/</a>
PREFIX rdfs: <a href="http://www.w3.org/2000/01/rdf-schema#">http://www.w3.org/2000/01/rdf-schema#</a>
PREFIX wd: <a href="http://www.wikidata.org/entity/">http://www.wikidata.org/entity/</a>
PREFIX wdt: <a href="http://www.wikidata.org/prop/direct/">http://www.wikidata.org/prop/direct/</a>
PREFIX p: <a href="http://www.wikidata.org/prop/">http://www.wikidata.org/prop/</a>
PREFIX ps: <a href="http://www.wikidata.org/prop/statement/">http://www.wikidata.org/prop/statement/</a>
PREFIX prov: <a href="http://www.w3.org/ns/prov#">http://www.w3.org/ns/prov#</a>
PREFIX pr: <a href="http://www.wikidata.org/prop/reference/">http://www.wikidata.org/prop/reference/</a>
PREFIX wikibase: <a href="http://wikiba.se/ontology#">http://wikiba.se/ontology#</a>
PREFIX bd: <a href="http://www.bigdata.com/rdf#">http://www.bigdata.com/rdf#</a>
PREFIX wdraw: <a href="http://www.wikidata.org/">http://www.wikidata.org/</a>
PREFIX vit: <a href="https://www.sinergiawolfender.org/vit/">https://www.sinergiawolfender.org/vit/</a></p>
<p>SELECT ?chemical_compound ?compoundLabel ?queried_taxa  ?queried_taxaLabel ?queried_taxall ?queried_taxallLabel ?pfcode WHERE {</p>
<p>SERVICE <a href="https://query.wikidata.org/sparql">https://query.wikidata.org/sparql</a> {
VALUES ?queried_taxa {
wd:Q310915
}
{
?chemical_compound p:P703 ?stmt.# We selecte chemical classes having the found in taxon statement
?queried_taxall wdt:P171* ?queried_taxa.
?stmt ps:P703 ?queried_taxall. # and the restrict the found in taxon statement to match our queried taxa
}
?chemical_compound rdfs:label ?compoundLabel.
?queried_taxa rdfs:label ?queried_taxaLabel.
?queried_taxall rdfs:label ?queried_taxallLabel.</p>
<p> FILTER (LANG(?compoundLabel) = "en") . # filter for English
FILTER (LANG(?queried_taxaLabel) = "en") .
FILTER (LANG(?queried_taxallLabel) = "en") .
}</p>
<p>?pfcode       jlw:is_from_plant_part               ?plant_part;
vit:has_taxon ?taxon.</p>
<p>?taxon jlw:has_wd_QID ?queried_taxall. </p>
<p>}</p>
<p>PREFIX rdf: <a href="http://www.w3.org/1999/02/22-rdf-syntax-ns#">http://www.w3.org/1999/02/22-rdf-syntax-ns#</a>
PREFIX jlw: <a href="https://www.sinergiawolfender.org/jlw/">https://www.sinergiawolfender.org/jlw/</a>
PREFIX rdfs: <a href="http://www.w3.org/2000/01/rdf-schema#">http://www.w3.org/2000/01/rdf-schema#</a>
PREFIX wd: <a href="http://www.wikidata.org/entity/">http://www.wikidata.org/entity/</a>
PREFIX wdt: <a href="http://www.wikidata.org/prop/direct/">http://www.wikidata.org/prop/direct/</a>
PREFIX p: <a href="http://www.wikidata.org/prop/">http://www.wikidata.org/prop/</a>
PREFIX ps: <a href="http://www.wikidata.org/prop/statement/">http://www.wikidata.org/prop/statement/</a>
PREFIX prov: <a href="http://www.w3.org/ns/prov#">http://www.w3.org/ns/prov#</a>
PREFIX pr: <a href="http://www.wikidata.org/prop/reference/">http://www.wikidata.org/prop/reference/</a>
PREFIX wikibase: <a href="http://wikiba.se/ontology#">http://wikiba.se/ontology#</a>
PREFIX bd: <a href="http://www.bigdata.com/rdf#">http://www.bigdata.com/rdf#</a>
PREFIX wdraw: <a href="http://www.wikidata.org/">http://www.wikidata.org/</a>
PREFIX vit: <a href="https://www.sinergiawolfender.org/vit/">https://www.sinergiawolfender.org/vit/</a></p>
<p>SELECT ?chemical_compound ?mf ?mf_formatted ?compoundLabel ?queried_taxa  ?queried_taxaLabel ?queried_taxall ?queried_taxallLabel ?pfcode ?labprocess ?feature ?sirius_formula ?sirius_formula_string WHERE {</p>
<p>SERVICE <a href="https://query.wikidata.org/sparql">https://query.wikidata.org/sparql</a> {
VALUES ?queried_taxa {
wd:Q310915
}
{
?chemical_compound p:P703 ?stmt.# We selecte chemical classes having the found in taxon statement
OPTIONAL { ?chemical_compound wdt:P231 ?cas. }
OPTIONAL { ?chemical_compound wdt:P233 ?smiles_canonical. }
OPTIONAL { ?chemical_compound wdt:P234 ?inchi. }
OPTIONAL { ?chemical_compound wdt:P592 ?chembl. }
OPTIONAL { ?chemical_compound wdt:P662 ?pubchem. }
OPTIONAL { ?chemical_compound wdt:P683 ?chebi. }
OPTIONAL { ?chemical_compound wdt:P2017 ?smiles_isomeric. }
OPTIONAL { ?chemical_compound wdt:P274 ?mf. }
OPTIONAL { ?chemical_compound wdt:P2067 ?mass. }
<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">#BIND (Private)</a>(LCASE(STR(?mf)) as ?lowmf)
<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">#BIND (Private)</a>(REPLACE(STR(?mf),"₀₁₂₃₄₅₆₇₈₉","B") AS ?mf_b) .
BIND(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(STR(?mf),"₀","0"),"₁","1"),"₂","2"),"₃","3"),"₄","4"),"₅","5"),"₆","6"),"₇","7"),"₈","8"),"₉","9") AS ?mf_formatted) .</p>
<pre><code>?queried_taxall wdt:P171* ?queried_taxa.
?stmt ps:P703 ?queried_taxall. # and the restrict the found in taxon statement to match our queried taxa
</code></pre>
<p>  }
?chemical_compound rdfs:label ?compoundLabel.
?queried_taxa rdfs:label ?queried_taxaLabel.
?queried_taxall rdfs:label ?queried_taxallLabel.</p>
<p> FILTER (LANG(?compoundLabel) = "en") . # filter for English
FILTER (LANG(?queried_taxaLabel) = "en") .
FILTER (LANG(?queried_taxallLabel) = "en") .
}</p>
<p>?pfcode       jlw:is_from_plant_part               ?plant_part;
jlw:has_lab_process ?labprocess;
vit:has_taxon ?taxon.
?labprocess jlw:has_MZmine_chromatogram ?mzmine_chromatogram .</p>
<p>?mzmine_chromatogram jlw:has_MZmine_feature ?feature .</p>
<p>?feature jlw:has_SIRIUS_formula ?sirius_formula.</p>
<p>?sirius_formula jlw:has_SIRIUS_formula_string ?sirius_formula_string.</p>
<p>?taxon jlw:has_wd_QID ?queried_taxall. </p>
<p>FILTER(?mf_formatted = ?sirius_formula_string)
}</p>
<h1 id="compounds-produced-by-plants-endemic-to-new-caledonia"><a aria-hidden="true" class="anchor-heading" href="#compounds-produced-by-plants-endemic-to-new-caledonia"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Compounds produced by plants endemic to New caledonia</h1>
<p><a href="https://w.wiki/57ap">https://w.wiki/57ap</a></p>
<p>cleaner with mass and mf</p>
<p><a href="https://w.wiki/57hN">https://w.wiki/57hN</a></p>
<h1 id="listing-compounds-in-meals"><a aria-hidden="true" class="anchor-heading" href="#listing-compounds-in-meals"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>listing compounds in meals</h1>
<p><a href="https://w.wiki/5Bs7">https://w.wiki/5Bs7</a></p>
<p><a href="https://w.wiki/5Bs9">https://w.wiki/5Bs9</a></p>
<h1 id="compounds-of-the-arachnida-class"><a aria-hidden="true" class="anchor-heading" href="#compounds-of-the-arachnida-class"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Compounds of the Arachnida class</h1>
<p><a href="https://w.wiki/5Doy">https://w.wiki/5Doy</a></p>
<h1 id="compounds-from-taxa-and-children-clean"><a aria-hidden="true" class="anchor-heading" href="#compounds-from-taxa-and-children-clean"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Compounds from taxa and children clean</h1>
<p><a href="https://w.wiki/5LJf">https://w.wiki/5LJf</a></p>
<h1 id="references-and-occurences-of-alstonine"><a aria-hidden="true" class="anchor-heading" href="#references-and-occurences-of-alstonine"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>References and occurences of Alstonine</h1>
<p><a href="https://w.wiki/5WXP">https://w.wiki/5WXP</a></p>
<h1 id="compare-occurences-in-wd-of-entries-with-a-given-taxon-id--otl-versus-wfo"><a aria-hidden="true" class="anchor-heading" href="#compare-occurences-in-wd-of-entries-with-a-given-taxon-id--otl-versus-wfo"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>compare occurences in WD of entries with a given taxon id  (OTL versus WFO)</h1>
<p><a href="https://w.wiki/5WYx">https://w.wiki/5WYx</a></p>
<h2 id="endpoints"><a aria-hidden="true" class="anchor-heading" href="#endpoints"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>endpoints</h2>
<p><a href="https://www.wikidata.org/wiki/Wikidata:Lists/SPARQL_endpoints">https://www.wikidata.org/wiki/Wikidata:Lists/SPARQL_endpoints</a></p>
<h4 id="quest-query-mod-from-mietchen-to-compounds-not-working"><a aria-hidden="true" class="anchor-heading" href="#quest-query-mod-from-mietchen-to-compounds-not-working"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>quest query mod from Mietchen to compounds (not working)</h4>
<h1 id="pay-attention-to-edge-cases"><a aria-hidden="true" class="anchor-heading" href="#pay-attention-to-edge-cases"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Pay attention to edge cases</h1>
<p>SELECT DISTINCT ?n_formatted
(CONCAT(
REPLACE(STR(?i), ".<em>Q", "Q"), "|P921|", REPLACE(STR(?ta), ".</em>Q", "Q"), "|P1932|", (CONCAT("\"", ?a, "\"")), "|S887|Q69652283") AS ?QuickStatements)
WITH {
SELECT DISTINCT ?ta WHERE {
SERVICE bd:sample { ?ta wdt:P31 wd:Q11173 . bd:serviceParam bd:sample.limit 5 }
}
LIMIT 2
}
AS %t
WITH
{ SELECT ?i ?n ?ta ?ti WHERE {
INCLUDE %t</p>
<p>?ta rdfs:label ?n.
FILTER (LANG(?n) = "en") .
BIND(REPLACE(STR(?n),"<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">@en (Private)</a>","") AS ?n_formatted) .</p>
<p>SERVICE wikibase:mwapi
{
bd:serviceParam wikibase:endpoint "<a href="http://www.wikidata.org%22">www.wikidata.org"</a>;
wikibase:api "Generator";
mwapi:generator "search";
mwapi:gsrsearch ?n_formatted ;
mwapi:gsrlimit "max".
?i wikibase:apiOutputItem mwapi:title.
}
?i wdt:P1476 ?ti .
<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">#MINUS (Private)</a> {?i wdt:P921 ?ta }
<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">#MINUS (Private)</a> {?i wdt:P921 [wdt:P171* ?ta ] }
FILTER (REGEX(LCASE(?ti), LCASE(CONCAT( "\", "b", ?n_formatted ,"\", "b"))))
FILTER (!REGEX(LCASE(?ti), LCASE(CONCAT( ?n_formatted ,"-"))))
FILTER (!REGEX(LCASE(?ti), LCASE(CONCAT( ?n_formatted ,"(.)virus"))))
FILTER (!REGEX(LCASE(?ti), LCASE(CONCAT( "pseudo(.?)", ?n_formatted))))
}
}
AS %i
WHERE {
INCLUDE %i
INCLUDE %t
BIND (SUBSTR(?ti, STRLEN(STRBEFORE(REPLACE(?ti, ?n, "=HELP=", "i"), "=HELP=")) +1, STRLEN(?n_formatted)) AS ?a)
}       </p>
<hr>
<p>No error but no results neither </p>
<p>SELECT DISTINCT ?n_formatted
(CONCAT(
REPLACE(STR(?i), ".<em>Q", "Q"), "|P921|", REPLACE(STR(?ta), ".</em>Q", "Q"), "|P1932|", (CONCAT("\"", ?a, "\"")), "|S887|Q69652283") AS ?QuickStatements)
WITH {
SELECT DISTINCT ?ta ?n_formatted WHERE {
SERVICE bd:sample { ?ta wdt:P31 wd:Q11173 . bd:serviceParam bd:sample.limit 5000 }</p>
<p>?ta rdfs:label ?n.
FILTER (LANG(?n) = "en") .
BIND(REPLACE(STR(?n),"<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">@en (Private)</a>","") AS ?n_formatted) .</p>
<p>}
LIMIT 100
}
AS %t
WITH
{ SELECT ?i ?n_formatted ?ta ?ti WHERE {
INCLUDE %t</p>
<p>SERVICE wikibase:mwapi
{
bd:serviceParam wikibase:endpoint "<a href="http://www.wikidata.org%22">www.wikidata.org"</a>;
wikibase:api "Generator";
mwapi:generator "search";
mwapi:gsrsearch ?n_formatted ;
mwapi:gsrlimit "max".
?i wikibase:apiOutputItem mwapi:title.
}
?i wdt:P1476 ?ti .
<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">#MINUS (Private)</a> {?i wdt:P921 ?ta }
<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">#MINUS (Private)</a> {?i wdt:P921 [wdt:P171* ?ta ] }
FILTER (REGEX(LCASE(?ti), LCASE(CONCAT( "\", "b", ?n_formatted ,"\", "b"))))
FILTER (!REGEX(LCASE(?ti), LCASE(CONCAT( ?n_formatted ,"-"))))
FILTER (!REGEX(LCASE(?ti), LCASE(CONCAT( ?n_formatted ,"(.)virus"))))
FILTER (!REGEX(LCASE(?ti), LCASE(CONCAT( "pseudo(.?)", ?n))))
}
}
AS %i
WHERE {
INCLUDE %i
INCLUDE %t
BIND (SUBSTR(?ti, STRLEN(STRBEFORE(REPLACE(?ti, ?n_formatted, "=HELP=", "i"), "=HELP=")) +1, STRLEN(?n_formatted)) AS ?a)
}</p>
<hr>
<p>Works !!!</p>
<h1 id="adapted-from-daniel-mietchen-httpswwiki5a7k"><a aria-hidden="true" class="anchor-heading" href="#adapted-from-daniel-mietchen-httpswwiki5a7k"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>adapted from Daniel Mietchen <a href="https://w.wiki/5a7K">https://w.wiki/5a7K</a></h1>
<p>SELECT DISTINCT ?n_formatted
(CONCAT(
REPLACE(STR(?i), ".<em>Q", "Q"), "|P921|", REPLACE(STR(?ta), ".</em>Q", "Q"), "|P1932|", (CONCAT("\"", ?a, "\"")), "|S887|Q69652283") AS ?QuickStatements)
WITH {
SELECT DISTINCT ?ta ?n_formatted WHERE {
SERVICE bd:sample { ?ta wdt:P31 wd:Q11173 . bd:serviceParam bd:sample.limit 5000 }
?ta p:P703 ?stmt.
?stmt ps:P703 ?taxa.
?ta rdfs:label ?n.
FILTER (LANG(?n) = "en") .
BIND(REPLACE(STR(?n),"<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">@en (Private)</a>","") AS ?n_formatted) .
}
LIMIT 25
}
AS %t
WITH
{ SELECT ?i ?n_formatted ?ta ?ti WHERE {
INCLUDE %t
SERVICE wikibase:mwapi
{
bd:serviceParam wikibase:endpoint "<a href="http://www.wikidata.org%22">www.wikidata.org"</a>;
wikibase:api "Generator";
mwapi:generator "search";
mwapi:gsrsearch ?n_formatted ;
mwapi:gsrlimit "max".
?i wikibase:apiOutputItem mwapi:title.
}
?i wdt:P1476 ?ti .
MINUS {?i wdt:P921 ?ta }
<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">#MINUS (Private)</a> {?i wdt:P921 [wdt:P171* ?ta ] }
<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">#FILTER (Private)</a> (REGEX(LCASE(?ti), LCASE(CONCAT( "\", "b", ?n_formatted ,"\", "b"))))
<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">#FILTER (Private)</a> (!REGEX(LCASE(?ti), LCASE(CONCAT( ?n_formatted ,"-"))))
<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">#FILTER (Private)</a> (!REGEX(LCASE(?ti), LCASE(CONCAT( ?n_formatted ,"(.)virus"))))
<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">#FILTER (Private)</a> (!REGEX(LCASE(?ti), LCASE(CONCAT( "pseudo(.?)", ?n))))
}
}
AS %i
WHERE {
INCLUDE %i
INCLUDE %t
BIND (SUBSTR(?ti, STRLEN(STRBEFORE(REPLACE(?ti, ?n_formatted, "=HELP=", "i"), "=HELP=")) +1, STRLEN(?n_formatted)) AS ?a)
}</p>
<p><a href="https://w.wiki/5a8b">https://w.wiki/5a8b</a></p>
<p>escaping dangling meta chracters <a href="https://w.wiki/5a8g">https://w.wiki/5a8g</a></p>
<hr>
<p>with taxa and compound</p>
<h1 id="adapted-from-daniel-mietchen-httpswwiki5a7k-1"><a aria-hidden="true" class="anchor-heading" href="#adapted-from-daniel-mietchen-httpswwiki5a7k-1"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Adapted from Daniel Mietchen <a href="https://w.wiki/5a7K">https://w.wiki/5a7K</a></h1>
<p>SELECT DISTINCT
(CONCAT(
REPLACE(STR(?i), ".<em>Q", "Q"), "|P921|", REPLACE(STR(?ta), ".</em>Q", "Q"), "|P1932|", (CONCAT("\"", ?a, "\"")), "|S887|Q69652283") AS ?QuickStatements)
WITH {
SELECT DISTINCT ?ta ?n_formatted WHERE {
SERVICE bd:sample { ?ta wdt:P31 wd:Q11173 . bd:serviceParam bd:sample.limit 5000 }
?ta p:P703 ?stmt.
?stmt ps:P703 ?taxa.
?ta rdfs:label ?n.
FILTER (LANG(?n) = "en") .
BIND(REPLACE(REPLACE(REPLACE(STR(?n),"<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">@en (Private)</a>",""),"\+",""),"\-","") AS ?n_formatted) .
}
LIMIT 25
}
AS %t
WITH
{ SELECT ?i ?n_formatted ?ta ?ti WHERE {
INCLUDE %t
SERVICE wikibase:mwapi
{
bd:serviceParam wikibase:endpoint "<a href="http://www.wikidata.org%22">www.wikidata.org"</a>;
wikibase:api "Generator";
mwapi:generator "search";
mwapi:gsrsearch ?n_formatted;
mwapi:gsrlimit "max".
?i wikibase:apiOutputItem mwapi:title.
}
?i wdt:P1476 ?ti .
MINUS {?i wdt:P921 ?ta }
}
}
AS %i
WITH
{ SELECT ?j ?taxa ?ta ?ti WHERE {
INCLUDE %t
SERVICE wikibase:mwapi
{
bd:serviceParam wikibase:endpoint "<a href="http://www.wikidata.org%22">www.wikidata.org"</a>;
wikibase:api "Generator";
mwapi:generator "search";
mwapi:gsrsearch ?taxa;
mwapi:gsrlimit "max".
?j wikibase:apiOutputItem mwapi:title.
}
?j wdt:P1476 ?ti .
MINUS {?j wdt:P921 ?taxa }
}
}
AS %j
WHERE {
INCLUDE %i
INCLUDE %j
INCLUDE %t
BIND (SUBSTR(?ti, STRLEN(STRBEFORE(REPLACE(?ti, ?n_formatted, "=HELP=", "i"), "=HELP=")) +1, STRLEN(?n_formatted)) AS ?a)
}</p>
<p>Using filter EXISTS </p>
<p><a href="https://w.wiki/5a8t">https://w.wiki/5a8t</a></p>
<p><a href="https://w.wiki/5a9B">https://w.wiki/5a9B</a></p>
<hr>
<p>Curating query </p>
<h1 id="adapted-from-daniel-mietchen-httpswwiki5a7k-2"><a aria-hidden="true" class="anchor-heading" href="#adapted-from-daniel-mietchen-httpswwiki5a7k-2"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Adapted from Daniel Mietchen <a href="https://w.wiki/5a7K">https://w.wiki/5a7K</a></h1>
<p>SELECT DISTINCT ?taxa ?taxaLabel ?taxa_chem ?taxa_chemLabel ?ta ?taLabel ?ti
(CONCAT(
REPLACE(STR(?ta), ".<em>Q", "Q"), "|P703|", REPLACE(STR(?taxa), ".</em>Q", "Q"), "|S248|", REPLACE(STR(?i), ".*Q", "Q")) AS ?QuickStatements)
WITH {
SELECT DISTINCT ?ta ?n_formatted ?taxa_chem WHERE {
SERVICE bd:sample { ?ta wdt:P31 wd:Q11173 . bd:serviceParam bd:sample.limit 25000 }
OPTIONAL { ?ta p:P703 ?stmt. }
OPTIONAL { ?stmt ps:P703 ?taxa_chem. }
?ta rdfs:label ?n.
FILTER (LANG(?n) = "en") .
BIND(REPLACE(REPLACE(REPLACE(STR(?n),"<a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">@en (Private)</a>",""),"\+",""),"\-","") AS ?n_formatted) .
}
LIMIT 30
}
AS %t
WITH
{ SELECT ?i ?n_formatted ?ta ?ti ?taxa WHERE {
INCLUDE %t
SERVICE wikibase:mwapi
{
bd:serviceParam wikibase:endpoint "<a href="http://www.wikidata.org%22">www.wikidata.org"</a>;
wikibase:api "Generator";
mwapi:generator "search";
mwapi:gsrsearch ?n_formatted ;
mwapi:gsrlimit "max".
?i wikibase:apiOutputItem mwapi:title.
}
?i wdt:P1476 ?ti .
?i wdt:P921 ?taxa.
?taxa wdt:P105 wd:Q7432.
FILTER (?taxa != ?taxa_chem)
}
}
AS %i
WHERE {
INCLUDE %i
INCLUDE %t
BIND (SUBSTR(?ti, STRLEN(STRBEFORE(REPLACE(?ti, ?n_formatted, "=HELP=", "i"), "=HELP=")) +1, STRLEN(?n_formatted)) AS ?a)
SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }
}</p>
<p><a href="https://w.wiki/5a9T">https://w.wiki/5a9T</a></p>
<p><a href="https://w.wiki/5a9g">https://w.wiki/5a9g</a></p>
<h1 id="solanum-genus-compounds"><a aria-hidden="true" class="anchor-heading" href="#solanum-genus-compounds"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Solanum genus compounds</h1>
<p><a href="https://w.wiki/5h8g">https://w.wiki/5h8g</a></p>
<h1 id="solanum-and-erythroxylum-genus-compounds"><a aria-hidden="true" class="anchor-heading" href="#solanum-and-erythroxylum-genus-compounds"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Solanum and erythroxylum genus compounds</h1>
<p><a href="https://w.wiki/5h9f">https://w.wiki/5h9f</a></p>
<h1 id="solanum-and-erythroxylum-and-apocynaceae-genus-compounds"><a aria-hidden="true" class="anchor-heading" href="#solanum-and-erythroxylum-and-apocynaceae-genus-compounds"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Solanum and erythroxylum and Apocynaceae genus compounds</h1>
<p><a href="https://w.wiki/5h9p">https://w.wiki/5h9p</a></p>